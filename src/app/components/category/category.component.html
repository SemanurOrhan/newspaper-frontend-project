<main class="category">
  <div class="category__container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h2 class="sidebar__title">Kategoriler</h2>
      <nav class="sidebar__nav">
        <ul class="category-list">
          <li class="category-list__item">
            <a 
              routerLink="/category/business" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
              Ekonomi
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/entertainment" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
              </svg>
              Eğlence
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/general" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="2" y1="12" x2="22" y2="12"></line>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
              </svg>
              Genel
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/health" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
              </svg>
              Sağlık
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/science" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10 2v7.31"></path>
                <path d="M14 9.3V1.99"></path>
                <path d="M8.5 2h7"></path>
                <path d="M14 9.3a6.5 6.5 0 1 1-4 0"></path>
                <path d="M5.52 16h12.96"></path>
              </svg>
              Bilim
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/sports" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path>
                <path d="M2 12h20"></path>
              </svg>
              Spor
            </a>
          </li>
          <li class="category-list__item">
            <a 
              routerLink="/category/technology" 
              routerLinkActive="category-list__link--active"
              class="category-list__link"
            >
              <svg class="category-list__icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
              Teknoloji
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <section class="content">
      <header class="content__header">
        <div class="content__header-row">
          <div class="content__header-left">
            <h1 class="content__title">{{ categoryLabel }}</h1>
            <p class="content__subtitle">En son {{ categoryLabel }} haberleri ve güncellemeler</p>
          </div>
          <div class="content__stats" *ngIf="articles && articles.length > 0">
            <p class="content__count">Toplam {{ totalResults || articles.length }} haber bulundu</p>
            <p class="content__shown">{{ articles.length }} tanesi listelendi</p>
          </div>
        </div>
      </header>

      <!-- News Grid -->
      <div class="news-grid" *ngIf="articles && articles.length > 0">
        <article class="news-card" *ngFor="let article of articles">
          <div class="news-card__image-wrapper">
            <img 
              [src]="article.urlToImage || 'assets/placeholder.jpg'" 
              [alt]="article.title"
              class="news-card__image"
              width="600"
              height="400"
              loading="lazy"
            />
          </div>
          
          <div class="news-card__content">
            <div class="news-card__meta">
              <span class="news-card__category" *ngIf="article.source">{{ article.source.name }}</span>
              <span class="news-card__date" *ngIf="article.publishedAt">{{ article.publishedAt | date: 'd MMM y' }}</span>
            </div>
            
            <h3 class="news-card__title">
              <a [href]="article.url" target="_blank" class="news-card__link">{{ article.title }}</a>
            </h3>
            
            <p class="news-card__description" *ngIf="article.description">
              {{ article.description }}
            </p>
            
            <div class="news-card__footer">
              <span class="news-card__author" *ngIf="article.author">{{ article.author }} tarafından</span>
              <a [href]="article.url" target="_blank" class="news-card__read-more">Devamını Oku →</a>
            </div>
          </div>
        </article>
      </div>

      <!-- No Results -->
      <div class="no-results" *ngIf="!articles || articles.length === 0">
        <svg class="no-results__icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <p class="no-results__text">Bu kategoride haber bulunamadı.</p>
      </div>

      <!-- Pagination -->
      <div class="pagination" *ngIf="articles && articles.length > 0">
        <button 
          class="pagination__button pagination__button--prev" 
          [disabled]="currentPage === 1"
          (click)="changePage(currentPage - 1)"
        >
          ‹ Önceki
        </button>
        
        <div class="pagination__numbers">
          <button 
            *ngFor="let page of pageNumbers" 
            class="pagination__number"
            [class.pagination__number--active]="page === currentPage"
            (click)="changePage(page)"
          >
            {{ page }}
          </button>
        </div>
        
        <button 
          class="pagination__button pagination__button--next"
          [disabled]="currentPage === totalPages"
          (click)="changePage(currentPage + 1)"
        >
          Sonraki ›
        </button>
        
        <span class="pagination__info">
          Sayfa {{ currentPage }} / {{ totalPages }}
        </span>
      </div>
    </section>
  </div>
</main>
