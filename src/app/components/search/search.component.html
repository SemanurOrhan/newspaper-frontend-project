<main class="search">
  <div class="search__container">
    <!-- Search Header -->
    <header class="search__header">
      <h1 class="search__title">
        Arama sonuçları: <span class="search__query">"{{ searchQuery }}"</span>
      </h1>
      <div class="search__stats" *ngIf="articles && articles.length > 0">
        <p class="search__count">{{ totalResults }} sonuç bulundu</p>
        <p class="search__shown">{{ articles.length }} tanesi listelendi</p>
      </div>
    </header>

    <!-- News Grid -->
    <div class="news-grid" *ngIf="articles && articles.length > 0">
      <article class="news-card" *ngFor="let article of articles">
        <div class="news-card__image-wrapper">
          <img 
            [src]="article.urlToImage || 'assets/placeholder.jpg'" 
            [alt]="article.title"
            class="news-card__image"
          />
        </div>
        
        <div class="news-card__content">
          <div class="news-card__meta">
            <span class="news-card__category" *ngIf="article.source">{{ article.source.name }}</span>
            <span class="news-card__date" *ngIf="article.publishedAt">{{ article.publishedAt | date: 'd MMM y' }}</span>
          </div>
          
          <h3 class="news-card__title">
            <a [href]="article.url" target="_blank" class="news-card__link">{{ article.title }}</a>
          </h3>
          
          <p class="news-card__description" *ngIf="article.description">
            {{ article.description }}
          </p>
          
          <div class="news-card__footer">
            <span class="news-card__author" *ngIf="article.author">{{ article.author }} tarafından</span>
            <a [href]="article.url" target="_blank" class="news-card__read-more">Devamını Oku →</a>
          </div>
        </div>
      </article>
    </div>

    <!-- No Results -->
    <div class="no-results" *ngIf="!articles || articles.length === 0">
      <svg class="no-results__icon" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <h2 class="no-results__title">Sonuç bulunamadı</h2>
      <p class="no-results__text">
        <strong>"{{ searchQuery }}"</strong> ile eşleşen bir haber bulamadık
      </p>
      <p class="no-results__suggestion">Farklı anahtar kelimeler deneyin veya kategorilere göz atın.</p>
      <a routerLink="/" class="no-results__button">Ana Sayfaya Dön</a>
    </div>

    <!-- Pagination -->
    <div class="pagination" *ngIf="articles && articles.length > 0">
      <button 
        class="pagination__button pagination__button--prev" 
        [disabled]="currentPage === 1"
        (click)="changePage(currentPage - 1)"
      >
        ‹ Önceki
      </button>
      
      <div class="pagination__numbers">
        <button 
          *ngFor="let page of pageNumbers" 
          class="pagination__number"
          [class.pagination__number--active]="page === currentPage"
          (click)="changePage(page)"
        >
          {{ page }}
        </button>
      </div>
      
      <button 
        class="pagination__button pagination__button--next"
        [disabled]="currentPage === totalPages"
        (click)="changePage(currentPage + 1)"
      >
        Sonraki ›
      </button>
      
      <span class="pagination__info">
        Sayfa {{ currentPage }} / {{ totalPages }}
      </span>
    </div>
  </div>
</main>
